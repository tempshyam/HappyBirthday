<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Countdown Timer</title>
    <link rel="stylesheet" href="./codes/css/index.css" />
  </head>
  <body>
    <div class="countdown" id="countdown">
      <div class="time-box">
        <span id="days">--</span> :
        <span class="label">Days</span>
      </div>
      <div class="time-box">
        <span id="hours">--</span> :
        <span class="label">Hours</span>
      </div>
      <div class="time-box">
        <span id="minutes">--</span> :
        <span class="label">Minutes</span>
      </div>
      <div class="time-box">
        <span id="seconds">--</span>
        <span class="label">Seconds</span>
      </div>
    </div>

    <script>
      const countdown = () => {
        const now = new Date().getTime();
        const year = new Date().getFullYear();
        // const targetDate = new Date(`June 27, ${year} 00:00:00`).getTime();
        const targetDate = new Date(`June 26, ${year} 00:00:00`).getTime();

        const distance = targetDate - now;

        if (distance <= 0) {
          document.getElementById("countdown").innerHTML =
            "Happy Birthday dear ðŸŽ‰<br>ðŸ˜˜ðŸ¥°ðŸŽ‚";
          setTimeout(() => {
            window.location.href = "./codes/html/surprise.html";
          }, 5000);
          return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").innerText = days;
        document.getElementById("hours").innerText = hours;
        document.getElementById("minutes").innerText = minutes;
        document.getElementById("seconds").innerText = seconds;
      };

      countdown(); // initial call
      setInterval(countdown, 1000);
    </script>
  </body>
</html>
